#!/bin/sh
set -e               #set -e sets an non-ignoring error state.

header_data="f9020ca0b9ea01d9278b1c8f69357df57469bbbb8466dc1edee7ed4e5189e8208e94a990a01dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d493479495222290dd7278aa3ddd389cc1e1d165cc4bafe5a0502555fde73c03240fca90dab7f81cfe1454a9e8e5f4f8b545833591d64966c5a067cc46b5dc909c1fdacad028c380c34deef8d7798b83d47b3c55fe7a5fc4733fa07675589af56ef8749a1d4a4107d48174d155bdef3b558d4dad37ba9190bbcf30b90100312d421ac3941e8d520e661ef3520223e3f14513d931503020b138003ce00590cd0425c8a080972000733a048241015506314e402a53ae86e3854312607c6f90be0ac251d538c9aa0d1208a94898c4a3021d283048c4820192338e21e87c28a11430c0022310d0878009b4005882388566f2282982380464d0d2035b134a35dc8d85c758900ad347ede226486317d0dbce551639b3eea2784ab1e86d0a1130a213eada5494302a098b1b19d0f23c6dbe00c0c285bc9c105e0a584e202990274030018563340b6890112321441cee91cc68e1578e067490d19b9827062d17647b87f6ba1c31a636a1e21de0c5592121c0bc2295583380b26160b12168b916181f3084010541cb8401c9c3808401c96c8a8464477e6b8f6265617665726275696c642e6f7267a0521d1cdc6818bb1cb74195601875f3a575489bf2b56674a6f3c66c3af6502815880000000000000000"
account_proof='["0xf90211a024ef1d6b0156525999da1ce330027a1baea2b4740294f20109e41a24c8b8cbbca09aa5403f7423b985f464228dfb2d211b2482436803c356aa1109565649397347a0b91740f53214e9e0146a5951b1756b60bda61846aa861626e596682bec4a7fd1a08c5bae2d102f18baec9586fbbc0182a193ae10fe00b4e7efbc408d6241edde23a0c79f337182b031d289c9a495a3c2b597c7677346d8fc43974e01f17754773640a0789739945e30ec6b3dcff65ed02fa2b5dcacf9d5684149d94285e847be1a4da7a07886de2386976fd8f2e29857e5f491d9978868e10719827e32d361e450676a7fa08309e30d1e880877ea45f8757020b22e758b761072a9a69d8c0822a8b9b4192fa08e572dc2a1117b2f437192e873585ea5b38207787197a8b0bdf9281d638ef264a0f8af5fc0717f284187d0b6a90488d7cfa0b7599af7202ecd538f3b9d09b49f09a07293a7d76b9bf404e18ba09273dad68d601174564302aac13d2c14370855795da01b472b2609069efa781cae4320a9a62fec07d0e1399b1359565a32ee5aee477ca05f44b65c35419a703352ed38912520a04429a8aa729b91f69b8dc5e8e96e76b7a0e455382d34d2c5a83be43dbbb9be220bf0ba8b031767c814af6452788c2befd1a06870afce84997aa6749597e90dd706ca2e9e295bf0a5109f8a0e7c9bde03298aa0c3a4931c370eaac3f265446ede91c34478e9dca25cfdc92c55438fe9b4e10e5180","0xf90211a0614582a7ac9076a39d2f2074857ba1f33cc37a9ba95c9f61e07337d2ec0b402fa0e76e530ee9b973becd76a97f46bc236da4ace05babca5606be78e0cd5a9d1e80a059f9f1fae997cca89839827d50bfd7fa6204599d783b1b923d5d0fbe436e3264a0def439d3cad2eb76eb68fa81af28cf022b7c9a7fe3ee13816df2880c8b419d9fa09ba889df4e35896c78e0b09ec0b3872c12592a21efcbed35c6c76060d0e8f102a0971fc84f08b2d6452d8b58ea3774f81cc898376ed9dced68e21b292fcc0baef3a066a4994051d85414f99fa0696fba84c3affd12241e9365939be10b45b15557c3a0635672235797bd25607c7c5a3ff523d998ccc17628f7a1bfda6976349ba4db26a0f39682ca677d991c91c621f2cfc6745d39e9f0290b83c4c7e54a50f7b83f5125a0e31fc38450915602b712c51eb263c184f45ab0f927d64f9213fcde696234d349a032bb5fb34401c0d9f42282f90b9a995fe82567204581d5aa72fe602004fbbb14a06fe8eca401f296c8f40395bc1cd745c8d11f7aef5aee02dfcffe216a2734115fa0c48ed48ba1a76dcc30eefc9ad4a5cbb9b64fb9020eb5ba31056ca693c09e2f5aa02274ab0fb64de07b6119b3d59c14cb0996973746f647a24db78493e7d25e084ca0d03aa900f0ef065f7fd508bbdd85d4a5a9c678d9781759eb21616905c6b2dc8da0bb3eba12fb9692b2cebea1af74ef9bbd4ccbb7c93c3cc3d293d3e9ee3730f81b80","0xf90211a0e8773d65c227b542b55be551e0010a9211fe173135bf43837d413808d9b519cfa04a4e7d23a593011fb7da995e1fb93a533b77e5ed1dc72e9647d65004c3f58fdba06e10190a0d16b2b9be09f5d7f629caead65f7ab06fff1ca8d127a868dc3838b3a0daf156c7103654eba08776f35ef650981aa5f9aaa3365f2bdd902f554ca65bb6a0c11c4bf9ef765653d6bc9c5b680c0d9a5631c5179f57d593faf8efadd4516b58a0bba9f8a519a44ae8231b03c61155cad05f7beec0c31513847762f32dcd87a7bba01dac0aaf9c762c8dd8fe4e35615dde3bc63b26850301c06a4166223c4561b29ba04285ca4df38542119993fd4b11d61493140d07bc8d8dde6b6503f59cdf091c70a028fd657b449da80f602b7b20ac9f28fe99af00a73d4af265b08ce98a146875b4a041701cee789ec22aa0b6463540ca1d09c50c2646464392c5da6d18aa74122df0a019ecd5a08eaabeb5ff049ad8182bc0ebdc60873949bc30df2e419ec34d4b4667a0a6a007ae0f10755524627a0fe8d78ed28d3f6dc04059367e36b5978e0537f61ca09d3c60a669251cbaff0292beec44c7d0fae2a67fb7b8332b782ce43c5afabc3aa04e423276a3fbbbd6330ea93b9e613aa85d8482a99843d93d292e465293b0295fa0fe87f2c58a3c572f6b01f4c48e618939057137b510f0268c782187b07799a77ea0d5f73ad4f6ffe927a6f1a0bdc42ead55654b33cb9737ea307504ab9dd5431c0380","0xf90211a0413e6c3e017962f59f5467b857c426be47b53a1174f829a79f6dfed1b40f6465a07d1b1295aa67542c472ff38635ac3d0dbfa8096838821d50dd7280973ee19642a01c5373e49bd07d9f0356b4860600271802f006a39708985f3136233506e0c5faa06fc463ed13aed790233ef3610965ac4f246a0e1b3b99873a77ea65f0ef6a0bfca0ecb34969fc4ca3834dc5ce8535d04efb8a731d128647da977ae514c3e477d8eea09a61b2d1f63da90a952bc6cf91c153162a624f46391deb43f85e697f545ffac3a002b6e91d5327a10b6a1d78f4ca49f0d21c9db0d9176d1d88221b436c719c527da05fbf544797ffa4648ff7984113016e8b9252da85e3cafe4fc9c6f941e1727192a0af29873cf231ddf009cd87f48d11e240fcd43fead3a72c1e8d9e14c8f0a1ef57a07c4da5a62f2ea54b44b8e4ec830e28d5b8067f4de10d77646becce303886910ca09dfa2014ee7858b5fdfbbe88eb2a279853116bf9566c881bd54d5b7ad1f3de63a037d93831c2dcdcf447049ecb0e5b03fa672838bf307fd3d20d1c394982c04e00a0bb41184e708f7cd1f9d0e50d750788bae8a3be543fc63e4261e6fe7e3524e808a0f2202dc4fdef0f0dd7299d0ba802df9a2158026e189bedc046fd524bb8bea3bea06b5f58974ae7e7275286e6050733ea5374a14372aa50ec39ea58ff9002a31e73a068ca604c864778d3c7a93c99b584cf86fb604f64d1c534e754634eaa532937c480","0xf90211a00763c502f8692064b40d441126bf2e6fa8dabbd8976c35de76b5fe5d86016ab8a01b1b478e322a9b5e3fc402e7ffdbf9d302708aaf3353f8e46389f6914a118dd5a08bc962994c402529515c96deb518819bae368a858273dbf6960016572985d2e2a0a319f7014d7299a7f1b798cb8cd6d3c9d202eea96c8ac1dd5ac4b78a41c7a7a0a0b9870b266baf6f987581a5dcb7aa0091313060e6ffa43362a7ec6d988ddc2536a0456f1cb0e12fd95128dea61ea4bf44de3fec75d0d5456ca1968d2ab8aa57d52ca07ecffc50f62eef3b515bb9ad6a6cb87ada359f643a9005a48989b1b0d2822b41a0a56d251cdd3c38b8844613b72196801717a4b7ddb9545c5eb497fc49387ef619a02fc8a43885fb47f5325163d6d0d63bff263e7f707eeaff22bd6722b30c7f18baa03fa4935694f7fffdebc1e48c4bf30165654def04a6a602e2de742933bcb4a02ea0e8af303ea041ea792630bb3f07a6a19c257bcba2e9e3c473c6816b82e3e7305ea011fe8041ddb50cc204b34279e6a7b8571a7583a6892e9911182a2fd1642d4685a085782f38660fa2fbb3446b11c0af9ba7ea2ca271530a1dbee817b983e0f9fce1a04b51512f026d9030e3aab038b162882726248c265ab6d70308be28c87229e83aa00ab4c651e798ccab37e722c2d414dec8fe9df2af3577b0f07693e0c4d40988caa0b36c0e1ef2054bc9702e33acc768c74f04dedac62a28a092f4fc884be49c273e80","0xf90211a0e10de771150a306e958ed6abc7d1513861947e72c4817bec9c531ef888629bf7a034eccfd367704497791ddbc78168712263d6c3763d586807f59136d3ecd52783a06785a91d09b30e905901670e8d1c343f069c176e052c7fc2298c161090c8b1eea0b20e1facc6469eeade8246ff5ebeb4460e9f3e3e046c422c5f12ad5daaafeb39a003586c6aa3f032bdc0e8b2f7170b11ea68e419444e42b32ec1dc0631215e9210a0a6166dd16ab5bd69adb6ba9e08570184d03e4612abbf39896a5556ea2e66b76da04563ebc423d43d5c6d72f280e91a289ea72afffd31714b622809e10ce0caefe6a0bcb836e9cf744f449c2c2db41bbd80a3583f653b97b03f8971cc7e8ffc757335a0e0819c74daac747d7a92ffaffa2fdfb884b3a50d5f245ef5f2e6ab9664c875eaa0033178772b34b737f19c29366f36b5054eecf623c82bad55c619b5ada139ea5aa05c436e5cd99f0e436c5cd705977961b6c1962b742c9231f43bec7c8a2fcaf8a4a02632d2131aa46a08060390c65479751de3c61c3632ab660c4feefe40a2f42b0ca04a916dd2416735c40ec1cc3b3095671609e08a34a3facfe822b058acf458a510a08c6e10a1db0c8dbc8da5b874a284f120176e5b39bb441576968d90d8d2c59f99a0780124aab121037906a00b501faf0e93d1dc5ccfe048279f9ba63262977d25c6a06fb0d294d139c4a9458c458ff9d48029810cf902034651769eb1c7a1638a98cb80","0xf90131808080a0c55e3ea958a5a9f26507c3dc69c0652e86f4f7fd2f5e1251a6aab793eeb52844a06d4cc20a933aabb50211563bc91aebbac41a74e6a750cf2f642db7eb30dfbea1a0352f7d980ac77d6ec18adc9fbc15748f33b6b90af8ae6214e41ad786125e4bef80a00ae9d639fa8c4d6f3082ecd423bfd2e7c8efc869ec8217454f79d674b38d8bb4a0d9babcaf03def61cce8c8968df78e8b7ef17475bde2ef2b9478d2e3dc5865c5080a0db78bf02a7047b92c1d5af25fa65b7b5518eea823a3ef5cdf71b29831712ca7780a0e9bef49ab1b7a912b1b4f587ef977bd25f373a082f6f954bb58594935f85dcbea0e203949b710e3231c597e171094c3280ce9f5e18a83686f2067aeac45570a7da80a066b60856af04e2bffa2ddcbd70a1916c20d681d0f57574065e4e89b7edc9b9bf80","0xf8669d3109f1acf2d29fe03d8b3a4e8169451eeddfc135df1f61f5b6bd0202d0b846f8440180a0a539a445cf65b1edf4e39b182f5ae38d1375391795d86b4f795fae82a44104fea017b0e7a8e38ef1689e7c27e753056f05a71de97d52767eba1a29c2d40be4dd1f"]'
account_state="f8440180a0dfefe40d3e0acaa78075e5b323edc9f7816a1ede156ec86d2e19a1065ba5c2fba017b0e7a8e38ef1689e7c27e753056f05a71de97d52767eba1a29c2d40be4dd1f"
storage_proof='["0xf90211a051ddf995db812181dd893b11dbd143d686dc43c6af44d274bad0d0465670580ea04d9d6b8a298c7059028ae282c7fac385046356c71c62ca8bc3fa106edf28149aa0a27b6878192562a4581e9348c969db3d49f81c042668dbf662a5d623ae31a536a0311fdc7663870021f6d8fa61d57cd938b93ff79e3469b028fb3eb28d2781aeb7a082f306d531bcb559c3122f2158d72de6f1a35859cf3bda156cd12775471265c4a03778dba22b15f064090ab3de145f908dca39b4b59b40d2cfa754da4eba6bd682a0489984b9251903a369c7073346365baffaa689420c3951e0c678f119d7961d9fa02816af7ca4327ac75912a18c22ccd55e6315184adc6daf287121067f67dba5f5a007e9c437f424bed84bb2fdceca807325f93a2548e5eb4b1c6f0c37ddfce71146a059ef94ecc4d1ca8ed7f5d2a810779eeb71028650fdcb8e5bf5d91482357dbff6a066760d950980edbb7960a725264b722f952ed163c9720f8a9e1211b696675363a02411918d0f8dd8c95278e9fbebb06384702eb21183d83e7bbc633a63439c158fa0305a180873bbd3bfcceb16c5e9f2437fe10dc4686cf683cfa3b686a5dee4dcc7a0fa3b1cd91bf2ab75d601fb5572528b279b360ef1fc937e1f0d1a842221cff183a008df8e0fa95112843ca5a68006eb017da1403d91598217688020c003db5917b7a0319bb06bad349fe4f4dc3543d379ed9f6da705b45d7542aeda64bb0ab5f8631f80","0xf90211a02065d50af24ba93735fff7d3af7894aaef001b226d41766778132c4b89b9099ea0cb2782d2b7928a4b517a2c9a3c6ada1716b0e0b966e15e4fc8e7641cf0633fa0a06579445313f5079eb6ed2ea06acda86b97a004c30dc0dbca01b0c0a43e1efe86a012a5fc1ad3d4b77d02870e97e0c36eb642dcfd972643ccaed4d60f5bae19038da05ab3cb83095ae2593f6779185be8c8b841b8738375cb0a68ecef29cbfba80a0ca0055f9f98dc3998f45acf724a0af645401d947cd179096cc08aba873106bc41d6a0f81a12aea7c12d864d43079e439ab9829efb42d5878fb8fcc32a679fd1473eaca0c14a2d38f7aab3a57e992e87752b620cdd4e2626d8dd83f307017e4145f54380a03a2cff30b76160847ba981b00ca352c9ad8be5e1a94ad21936a3b04ef3a8d9cba0f3b52bc7514e94f3448ffeccd1950eadead9a5bf371520e10bd2de3182b1cf11a08aa8ae302070b2eff5a72694b0c47971da273544d730d268c63ef17da7632ed1a04d63e05c56bb32807e02b95577d15b61d3ce4f3ef82703b422e4ae7333c1ddd4a00d5f656f35e715c0044158f3d13d02e6a8f9ee5ae97f46df2164425c51d1b8eda07dab7b531b441e4255b732b7f083175ceb89e4e29efefe8c8468ba02b61bde0da0f66fff6ea2880f42f5fb770f7fe8e917f5c9a19f55bfe74255a09b9ceaeace0ba0b46c12419525c2993977532f53b319d0b049032ab1e8b2876f653d5adff6fe8f80","0xf90211a0b1ff9a298de42099ac71d489b02b2d0f4d86767c433dcd009bfb4128b8a47acaa06751a44f68f3b7e6314cf7fb579a7914387cad27280ad37a83b571b138e693a2a008b5e0d1188325df6fef4168454e2cd48f96bb9b53b669a12984cd0cbd61f87da0d014984392674c76e71dbae77852b9e180438d41f1c4fc60827e4296dc90f6d8a0c56f71bb07648210b5f167a4ee94e9992991dbe23cc7df059f1a33e9678fd4f2a0642e10d9cbefc938cd298e7bf1172745b6a5affab6d6e09ee6c6128fa0434f4ba0ee8ff38592ef6287f19add886972ae8dc4f187f2077aca8521c619e370ccc0b8a085369d4139fdb8ed9d482af25c4acff975d3e1c019c93dc81f4fda23a5408ba2a0e51a0a8c4c0c5f478e326c1cec6ab711ea1d5a65dea27ac6719116ccadd4ff1da0feb770e59864e2c5076c249f9df87c85aae11dd74b52d7ce85244d2a1cdf3c91a059443b6b8e7c69fa2e0144a48bba889857525d984002d0796f8fb5134dcfba24a06822bec175c436281ba7a18386aa41bd88b7631a45a0781cc5cd37d2b7ee64daa0d04fe3aff2af41dbc79ee42be4076bbbf0d2c55fe4ae68fb1c8e00f64b028afca0d09811e43da4f1f5db466cd28ab974b3049a0f17ed01f1c04f27c1a9572c40f7a0a8044d980a65e73cedf1a221f739535a4b5ec14f1d5f30264f2a6735e43f5577a02e7305c72a95d19056a719b8102c847fe9b6b9c4ab4656547ff7e333e4838f3980","0xf9013180a01fc7cebbad300cfdb27990c54e24881cfdedd92926764540538cac03c3f880c0a0d26f26d5836fa2770ba8d742f606f6e0d4b16b3e0f7c2a5b582990f9ec551a8080a022f0abd9e62bd0fed50db1e72289a10ffee58c9f853ad8d88f4efc839d2c5ee980a034a2a4380c955c13ece8a7591b48bf0bab604584a74516b5ae234c4fb1e93a99a0d83460798ee4eb3eac39d8b2e7531e489e03a05ebf664c7b10630780ca6443358080a06f70c9418765dfeabf7a351420bedba5e378b80b7cdc6f6d20506b38382083f5a0302567544651b97e172b1a65e898789abbfdcb63c438412ca6d2bc2f9ab22800a0218561aee5c26d8d134c7e5a52110690a290986ce757330acf5bbb7f4557054a8080a08e8892b1c9bc215015cb9b89f6f2fac06dea91eaa1e909b4efd5d203fb1480f380","0xf871808080a0ea5b13662136f4d1e781fde3ccb4e4f7cb269fd4486bb8a54ca488706969de1280a043bb68103c8787e93a31f368dd99e3994213ab6d1b73b77dc46a232b7acc648b808080a0099750bbce80b15c560c846903e3d783baf328160e90b8cd882c75cdbcbd486680808080808080","0xf83d9e356f24e24da6a50c1099c47153d5ab5790ecf024e65f7d7857131579ed039d9c64476b57000000000000000000000000000000000000002aa75a28dd"]'
storage_key_hash="0xa32f356f24e24da6a50c1099c47153d5ab5790ecf024e65f7d7857131579ed03"
value="0x64476b57000000000000000000000000000000000000002aa75a28dd"
eth_height=17121348

# json=$(cat <<EOF
# {
#   "header_data": "$header_data",
#   "account_proof": $account_proof,
#   "account_state": "$account_state",
#   "storage_proof": $storage_proof,
#   "storage_key_hash": "$storage_key_hash",
#   "value": "$value",
#   "eth_height": $eth_height
# }
# EOF
# )

json="{\"header_data\": \"$header_data\", \"account_proof\": $account_proof, \"account_state\": \"$account_state\", \"storage_proof\": $storage_proof, \"storage_key_hash\": \"$storage_key_hash\", \"value\": \"$value\", \"eth_height\": $eth_height}"
# echo $json.header_data
near call oracle.unatrix.testnet \
add_feed_data \
'{"symbol": "ETH/USD", "data_proof": '"$json"'}' \
--accountId oracle.unatrix.testnet
# echo "$json"